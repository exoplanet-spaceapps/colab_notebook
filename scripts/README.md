# Kepler Exoplanet è³‡æ–™å‰è™•ç†è…³æœ¬

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

æœ¬è…³æœ¬å°ˆç‚º **Google Colab 2025å¹´10æœˆç’°å¢ƒ** è¨­è¨ˆï¼Œæä¾›å®Œæ•´çš„ Kepler ç³»å¤–è¡Œæ˜Ÿæ•¸æ“šå‰è™•ç†æµç¨‹ã€‚

### ğŸ¯ åŠŸèƒ½ç‰¹é»

âœ… **å®Œæ•´çš„è³‡æ–™å‰è™•ç†æµç¨‹**
- è‡ªå‹•è¼‰å…¥ features èˆ‡ labels æ•¸æ“š
- One-hot ç·¨ç¢¼ï¼ˆä¸‰å€‹é¡åˆ¥ï¼šCONFIRMED, CANDIDATE, FALSE POSITIVEï¼‰
- æ•¸æ“šåˆä½µã€éš¨æ©Ÿæ‰“æ•£èˆ‡åˆ‡åˆ†
- 3:1 è¨“ç·´/æ¸¬è©¦é›†åˆ‡åˆ†

âœ… **ç’°å¢ƒç›¸å®¹æ€§**
- Python 3.11
- NumPy 2.0.2
- pandas æœ€æ–°ç‰ˆæœ¬
- scikit-learn æœ€æ–°ç‰ˆæœ¬

âœ… **è‡ªå‹•åŒ–è¦–è¦ºåŒ–**
- é¡åˆ¥åˆ†ä½ˆåœ–è¡¨
- è¨“ç·´/æ¸¬è©¦é›†æ¯”ä¾‹é¤…åœ–
- æ¨™ç±¤åˆ†ä½ˆå°æ¯”

âœ… **Colab å‹å¥½**
- è‡ªå‹•åµæ¸¬ Colab ç’°å¢ƒ
- æª”æ¡ˆä¸Šå‚³ä»‹é¢
- çµæœä¸‹è¼‰åŠŸèƒ½

---

## ğŸ“ æª”æ¡ˆèªªæ˜

```
scripts/
â”œâ”€â”€ kepler_data_preprocessing_2025.py    # ä¸»è¦å‰è™•ç†è…³æœ¬
â””â”€â”€ README.md                            # èªªæ˜æ–‡ä»¶ï¼ˆæœ¬æª”æ¡ˆï¼‰
```

**æ‰€éœ€æ•¸æ“šæª”æ¡ˆï¼š**
- `koi_lightcurve_features_no_label.csv` - å…‰è®Šæ›²ç·šç‰¹å¾µ (3,197+ ç¶­åº¦)
- `q1_q17_dr25_koi.csv` - KOI æ¨™ç±¤æ•¸æ“š

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: Google Colab åŸ·è¡Œï¼ˆæ¨è–¦ï¼‰

1. **ä¸Šå‚³è…³æœ¬åˆ° Colab**
   - é–‹å•Ÿ Google Colab: https://colab.research.google.com/
   - æ–°å¢ç¨‹å¼ç¢¼å€å¡Š
   - è¤‡è£½ `kepler_data_preprocessing_2025.py` å…§å®¹è²¼ä¸Š

2. **åŸ·è¡Œè…³æœ¬**
   ```python
   # ç›´æ¥åŸ·è¡Œæ•´å€‹è…³æœ¬
   %run kepler_data_preprocessing_2025.py
   ```

3. **ä¸Šå‚³æ•¸æ“šæª”æ¡ˆ**
   - è…³æœ¬æœƒè‡ªå‹•æç¤ºä¸Šå‚³
   - å…ˆä¸Šå‚³ `koi_lightcurve_features_no_label.csv`
   - å†ä¸Šå‚³ `q1_q17_dr25_koi.csv`

4. **ä¸‹è¼‰çµæœ**
   - è…³æœ¬åŸ·è¡Œå®Œç•¢å¾Œæœƒæç¤ºæ˜¯å¦ä¿å­˜
   - è¼¸å…¥ `y` å³å¯ä¸‹è¼‰è™•ç†å¾Œçš„æ•¸æ“š

### æ–¹æ³• 2: æœ¬åœ°åŸ·è¡Œ

1. **æº–å‚™ç’°å¢ƒ**
   ```bash
   pip install numpy pandas scikit-learn matplotlib seaborn
   ```

2. **æº–å‚™æ•¸æ“š**
   - å°‡å…©å€‹ CSV æª”æ¡ˆæ”¾åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„

3. **åŸ·è¡Œè…³æœ¬**
   ```bash
   cd scripts
   python kepler_data_preprocessing_2025.py
   ```

4. **æŸ¥çœ‹çµæœ**
   - è™•ç†å¾Œçš„æ•¸æ“šæœƒä¿å­˜åœ¨ `scripts/` ç›®éŒ„

---

## ğŸ“Š è¼¸å‡ºèªªæ˜

### 1. è®Šæ•¸è¼¸å‡º

åŸ·è¡Œå®Œæˆå¾Œï¼Œæœƒåœ¨è¨˜æ†¶é«”ä¸­ç”¢ç”Ÿä»¥ä¸‹è®Šæ•¸ï¼š

| è®Šæ•¸åç¨± | å½¢ç‹€ | èªªæ˜ |
|---------|------|------|
| `X_train` | (n_train, 3197+) | è¨“ç·´é›†ç‰¹å¾µ |
| `y_train` | (n_train, 3) | è¨“ç·´é›†æ¨™ç±¤ (one-hot) |
| `X_test` | (n_test, 3197+) | æ¸¬è©¦é›†ç‰¹å¾µ |
| `y_test` | (n_test, 3) | æ¸¬è©¦é›†æ¨™ç±¤ (one-hot) |

### 2. æª”æ¡ˆè¼¸å‡º

- `X_train.csv` - è¨“ç·´é›†ç‰¹å¾µ
- `y_train.csv` - è¨“ç·´é›†æ¨™ç±¤
- `X_test.csv` - æ¸¬è©¦é›†ç‰¹å¾µ
- `y_test.csv` - æ¸¬è©¦é›†æ¨™ç±¤
- `kepler_preprocessing_visualization.png` - è¦–è¦ºåŒ–åœ–è¡¨

### 3. One-hot ç·¨ç¢¼æ¬„ä½

æ¨™ç±¤æœƒè½‰æ›ç‚ºä¸‰å€‹äºŒå…ƒæ¬„ä½ï¼š

```python
label_CANDIDATE        # å€™é¸è¡Œæ˜Ÿ
label_CONFIRMED        # å·²ç¢ºèªè¡Œæ˜Ÿ
label_FALSE POSITIVE   # å½é™½æ€§
```

---

## ğŸ” è…³æœ¬æµç¨‹

```
[1/8] æª¢æŸ¥ç’°å¢ƒèˆ‡å¥—ä»¶ç‰ˆæœ¬
   â†“
[2/8] è¼‰å…¥æ•¸æ“šæª”æ¡ˆ
   â†“
[3/8] æ•¸æ“šæ¢ç´¢èˆ‡é©—è­‰
   â†“
[4/8] One-hot ç·¨ç¢¼è½‰æ›
   â†“
[5/8] åˆä½µ Features èˆ‡ Labels
   â†“
[6/8] éš¨æ©Ÿæ‰“æ•£æ•¸æ“š
   â†“
[7/8] 3:1 è¨“ç·´/æ¸¬è©¦é›†åˆ‡åˆ†
   â†“
[8/8] è¦–è¦ºåŒ–èˆ‡çµæœæ‘˜è¦
```

---

## âš™ï¸ é—œéµåƒæ•¸

### éš¨æ©Ÿç¨®å­
```python
RANDOM_STATE = 42
```
ç¢ºä¿çµæœå¯é‡ç¾

### åˆ‡åˆ†æ¯”ä¾‹
```python
test_size = 0.25  # æ¸¬è©¦é›†ä½” 25% (1/4)
                   # è¨“ç·´é›†ä½” 75% (3/4)
                   # æ¯”ä¾‹ç‚º 3:1
```

### åˆ†å±¤æŠ½æ¨£
```python
stratify = y.idxmax(axis=1)  # ä¿æŒå„é¡åˆ¥æ¯”ä¾‹ä¸€è‡´
```

---

## ğŸ“ˆ ç¯„ä¾‹è¼¸å‡º

```
==================================================================================
ğŸ“„ è³‡æ–™å‰è™•ç†æ‘˜è¦å ±å‘Š
==================================================================================

âœ… è™•ç†å®Œæˆæ™‚é–“: 2025-10-05 20:30:45

ğŸ“Š æ•¸æ“šæ¦‚è¦½:
  â€¢ åŸå§‹æ•¸æ“šç¸½æ•¸: 1,865 ç­†
  â€¢ Features ç¶­åº¦: 3,197 å€‹ç‰¹å¾µ
  â€¢ Labels é¡åˆ¥æ•¸: 3 é¡

ğŸ¯ æ¨™ç±¤é¡åˆ¥:
  â€¢ label_CANDIDATE: 842 (45.15%)
  â€¢ label_CONFIRMED: 378 (20.27%)
  â€¢ label_FALSE POSITIVE: 645 (34.58%)

âœ‚ï¸ æ•¸æ“šåˆ‡åˆ†çµæœ:
  â€¢ è¨“ç·´é›†: 1,398 ç­† (75.0%)
  â€¢ æ¸¬è©¦é›†: 467 ç­† (25.0%)
  â€¢ åˆ‡åˆ†æ¯”ä¾‹: 2.99:1

ğŸ”¢ è®Šæ•¸å½¢ç‹€:
  â€¢ X_train: (1398, 3197)
  â€¢ y_train: (1398, 3)
  â€¢ X_test: (467, 3197)
  â€¢ y_test: (467, 3)

ğŸŒ± éš¨æ©Ÿç¨®å­: 42
==================================================================================
```

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å•é¡Œ 1: æ‰¾ä¸åˆ° koi_disposition æ¬„ä½
**è§£æ±ºæ–¹æ¡ˆï¼š** è…³æœ¬æœƒè‡ªå‹•æœå°‹åŒ…å« "disposition" çš„æ¬„ä½ä¸¦ä½¿ç”¨

### å•é¡Œ 2: Features èˆ‡ Labels è¡Œæ•¸ä¸ä¸€è‡´
**è§£æ±ºæ–¹æ¡ˆï¼š** è…³æœ¬æœƒè‡ªå‹•å°é½Šç´¢å¼•ï¼Œå–äº¤é›†

### å•é¡Œ 3: ç¼ºå¤±å€¼è™•ç†
**è§£æ±ºæ–¹æ¡ˆï¼š** è…³æœ¬è‡ªå‹•ç§»é™¤æ¨™ç±¤ç¼ºå¤±çš„æ¨£æœ¬ï¼Œä¸¦ä»¥ 0 å¡«å……ç‰¹å¾µç¼ºå¤±å€¼

### å•é¡Œ 4: NumPy ç‰ˆæœ¬ä¸ç›¸å®¹
**è§£æ±ºæ–¹æ¡ˆï¼š**
```python
# åœ¨ Colab ä¸­æ›´æ–°
!pip install --upgrade numpy
```

---

## ğŸ“ æŠ€è¡“ç´°ç¯€

### One-hot ç·¨ç¢¼å¯¦ç¾
```python
# ä½¿ç”¨ pandas get_dummies
y_onehot = pd.get_dummies(y_normalized, prefix='label')
```

### åˆ†å±¤æŠ½æ¨£å¯¦ç¾
```python
# ä½¿ç”¨ stratify åƒæ•¸ä¿æŒé¡åˆ¥æ¯”ä¾‹
X_train, X_test, y_train, y_test = train_test_split(
    X, y,
    test_size=0.25,
    random_state=RANDOM_STATE,
    stratify=y.idxmax(axis=1)  # æ ¹æ“šæœ€å¤§å€¼æ‰€åœ¨æ¬„ä½åˆ†å±¤
)
```

### éš¨æ©Ÿæ‰“æ•£å¯¦ç¾
```python
# ä½¿ç”¨ pandas sample æ–¹æ³•
shuffled_data = combined_data.sample(
    frac=1,                    # 100% æŠ½æ¨£
    random_state=RANDOM_STATE  # å›ºå®šç¨®å­
).reset_index(drop=True)
```

---

## ğŸ“š å¾ŒçºŒæ­¥é©Ÿ

å®Œæˆå‰è™•ç†å¾Œï¼Œå¯ä»¥é–‹å§‹è¨“ç·´æ¨¡å‹ï¼š

```python
# ç¯„ä¾‹ï¼šä½¿ç”¨ Random Forest
from sklearn.ensemble import RandomForestClassifier

# è½‰æ› one-hot ç‚ºå–®ä¸€æ¨™ç±¤ï¼ˆå¦‚æœéœ€è¦ï¼‰
y_train_labels = y_train.idxmax(axis=1)
y_test_labels = y_test.idxmax(axis=1)

# è¨“ç·´æ¨¡å‹
model = RandomForestClassifier(random_state=42)
model.fit(X_train, y_train_labels)

# è©•ä¼°
score = model.score(X_test, y_test_labels)
print(f"æº–ç¢ºç‡: {score:.4f}")
```

---

## ğŸ“ ç‰ˆæœ¬è³‡è¨Š

- **ç‰ˆæœ¬ï¼š** 1.0.0
- **å»ºç«‹æ—¥æœŸï¼š** 2025-10-05
- **é©ç”¨ç’°å¢ƒï¼š** Google Colab (2025å¹´10æœˆ)
- **Python ç‰ˆæœ¬ï¼š** 3.11+
- **ä½œè€…ï¼š** Claude AI

---

## ğŸ“§ æ”¯æ´

å¦‚æœ‰å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. Python ç‰ˆæœ¬æ˜¯å¦ç‚º 3.11+
2. æ•¸æ“šæª”æ¡ˆæ ¼å¼æ˜¯å¦æ­£ç¢º
3. å¥—ä»¶ç‰ˆæœ¬æ˜¯å¦ç›¸å®¹

---

## ğŸ‰ å®Œæˆï¼

æ­¤è…³æœ¬æä¾›äº†å®Œæ•´ã€è‡ªå‹•åŒ–çš„è³‡æ–™å‰è™•ç†æµç¨‹ï¼Œç¢ºä¿æ•¸æ“šå¯ä»¥ç›´æ¥ç”¨æ–¼æ©Ÿå™¨å­¸ç¿’æ¨¡å‹è¨“ç·´ã€‚
